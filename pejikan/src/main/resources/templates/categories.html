<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Pejikan</title>
    <script src="https://kit.fontawesome.com/aa582d571b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/all.css">
</head>
<body>
<div style="width: 30%; margin-left: auto; margin-right: auto;">
    <h1>ぺ時間</h1>
    <a href="/entries">Entries</a>
    <h2>Categories</h2>
    <table>
        <tr>
            <th>Name</th>
            <th>Color</th>
            <th></th>
        </tr>
        <tr th:each="category: ${categories}">
            <td th:text="${category.name}" />
            <td th:text="${category.color}" />
            <td><form method="post" th:action="@{/categories/delete}" th:id="'form-'+${category.name}">
                <input type="hidden" name="id" th:value="${category.name}" />
                <i class="fa-solid fa-delete-left"
                   th:data-id="${category.name}"
                   onclick="document.getElementById('form-'+this.getAttribute('data-id')).submit()"></i>
            </form></td>
        </tr>
        <tr style="height: 50px"></tr>
        <tr>
        <form method="post" th:action="@{/categories/add}">
            <td><input type="text" name="name" placeholder="Name" required/></td>
            <td><input type="text" name="color" placeholder="Color"/></td>
            <td><input type="submit" value="Add" /></td>
        </form>
        </tr>
    </table>
</div>
</body>
</html>